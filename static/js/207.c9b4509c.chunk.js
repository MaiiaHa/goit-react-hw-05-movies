"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[207],{207:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(433),o=n(439),a=n(791),c="https://image.tmdb.org/t/p/w500";function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i="Button_Button__Smq3v",s=n(184),u=["onClick","children"],d=function(e){var t=e.onClick;e.children,l(e,u);return(0,s.jsx)("button",{className:i,type:"button",onClick:t,children:"Load more"})},f=n(683),v=n(164),m={overlay:"Modal_overlay__r63M6",modal:"Modal_modal__DJDMv",Overlay:"Modal_Overlay__yoxbg",Modal:"Modal_Modal__I1UYJ"},_=document.querySelector("#modal-root");function h(e){var t=e.src,n=e.alt,r=e.onClose;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);return(0,v.createPortal)((0,s.jsx)("div",{className:m.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:(0,s.jsx)("div",{className:m.Modal,children:(0,s.jsx)("img",{src:t,alt:n})})}),_)}var y="MovieGalleryItem_MovieGalleryItem__QqOFS",p="MovieGalleryItem_MovieGalleryItemImage__mTBD0";function g(e){var t=e.poster_path,n=e.vote_average,r=e.title,l=e.name,i=(0,a.useState)(!1),u=(0,o.Z)(i,2),d=u[0],f=u[1],v=function(){f((function(e){return!e}))};return(0,s.jsxs)("li",{className:y,children:[(0,s.jsx)("img",{className:p,src:t?"".concat(c).concat(t):"There will be a poster",alt:r||l,onClick:v}),(0,s.jsx)("h2",{children:r||l}),(0,s.jsx)("p",{children:n}),d&&(0,s.jsx)(h,{src:"".concat(c).concat(t),onClose:v})]})}var j="MoviesGallery_MoviesGallery__tqAIU",b=["id"],x=function(e){var t=e.movies;return(0,s.jsx)("ul",{className:j,children:t.map((function(e){var t=e.id,n=l(e,b);return(0,s.jsx)(g,(0,f.Z)({},n),t)}))})},M=function(){var e=(0,a.useState)([]),t=(0,o.Z)(e,2),n=t[0],c=t[1],l=(0,a.useState)(1),i=(0,o.Z)(l,2),u=i[0],f=i[1],v=(0,a.useState)(!1),m=(0,o.Z)(v,2),_=m[0],h=m[1];(0,a.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US&api_key=".concat("319d5522e2117aa6383989c80b35f4f5"),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)})).then((function(e){var t=e.results;return c((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))}))})).catch((function(e){return console.log(e)})).finally(h(!0))}),[u]);return console.log(n),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{movies:n}),_&&(0,s.jsx)(d,{"aria-label":"Load more",onClick:function(){f((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=207.c9b4509c.chunk.js.map