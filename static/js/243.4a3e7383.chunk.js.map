{"version":3,"file":"static/js/243.4a3e7383.chunk.js","mappings":"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","sources":["api/Api.jsx","webpack://goit-react-hw-05-movies/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://goit-react-hw-05-movies/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieGalleryItem/MovieGalleryItem.module.css?31fb","components/MovieGalleryItem/MovieGalleryItem.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.jsx","components/Searchbar/Searchbar.jsx","pages/Movies.js"],"sourcesContent":["// import axios from 'axios';\n\nconst KEY = '319d5522e2117aa6383989c80b35f4f5';\n\n//====== img posters\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\n//====== trending movies\nexport function getTrendingMovies(page = 1) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      // Authorization: 'Bearer 319d5522e2117aa6383989c80b35f4f5',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/day?language=en-US&page=${page}&api_key=${KEY}`,\n    options\n  )\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\n\n//====== search movies\nexport function searchMovies(searchInput, page = 1) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      // Authorization: 'Bearer 319d5522e2117aa6383989c80b35f4f5',\n    },\n  };\n\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&query=${searchInput}&page=${page}&api_key=${KEY}`,\n    options\n  )\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\n\n//====== movie details\nexport function renderMovieDetails(movie_id) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      // Authorization: 'Bearer 319d5522e2117aa6383989c80b35f4f5',\n    },\n  };\n\n  return (\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movie_id}?language=en-US&api_key=${KEY}`,\n      options\n    )\n      .then(response => response.json())\n      // .then(response => console.log(response))\n      .catch(err => console.error(err))\n  );\n}\n//====== cast\nexport function renderCastDetails(movie_id) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      // Authorization: 'Bearer 319d5522e2117aa6383989c80b35f4f5',\n    },\n  };\n\n  return (\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movie_id}/credits?language=en-US&api_key=${KEY}`,\n      options\n    )\n      .then(response => response.json())\n      // .then(response => console.log(response))\n      .catch(err => console.error(err))\n  );\n}\n//====== reviews\nexport function renderReviewDetails(movie_id) {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      // Authorization: 'Bearer 319d5522e2117aa6383989c80b35f4f5',\n    },\n  };\n\n  return (\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movie_id}/reviews?language=en-US&page=1&api_key=${KEY}`,\n      options\n    )\n      .then(response => response.json())\n      // .then(response => console.log(response))\n      .catch(err => console.error(err))\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__Smq3v\"};","// import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Button.module.css';\n\nconst Button = ({ onClick, children, ...ApplyProps }) => {\n  return (\n    <button\n      className={css.Button}\n      type=\"button\"\n      onClick={onClick}\n      // {...ApplyProps}\n    >\n      {/* {children} */}\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = { onClick: PropTypes.func.isRequired };\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"Modal_overlay__r63M6\",\"modal\":\"Modal_modal__DJDMv\",\"Overlay\":\"Modal_Overlay__yoxbg\",\"Modal\":\"Modal_Modal__I1UYJ\"};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport css from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ src, alt, onClose }) {\n  useEffect(() => {\n    const hendleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', hendleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', hendleKeyDown);\n    };\n  }, [onClose]);\n\n  const hendleBackdrobClose = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={css.Overlay} onClick={hendleBackdrobClose}>\n      <div className={css.Modal}>\n        {/* {this.props.children} */}\n        {/* APP includes data for modal */}\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"MovieGalleryItem\":\"MovieGalleryItem_MovieGalleryItem__QqOFS\",\"MovieGalleryItemImage\":\"MovieGalleryItem_MovieGalleryItemImage__mTBD0\"};","import { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport Modal from 'components/Modal/Modal';\nimport PropTypes from 'prop-types';\nimport css from './MovieGalleryItem.module.css';\nimport { IMAGE_URL } from '../../api/Api';\n\nexport default function MovieGalleryItem({\n  id,\n  poster_path,\n  vote_average,\n  title,\n  name,\n}) {\n  const [showModal, setShowModal] = useState(false);\n  const location = useLocation();\n\n  const toggleModal = () => {\n    setShowModal(state => !state);\n  };\n\n  return (\n    <li className={css.MovieGalleryItem}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img\n          className={css.MovieGalleryItemImage}\n          src={\n            poster_path\n              ? `${IMAGE_URL}${poster_path}`\n              : 'There will be a poster'\n          }\n          alt={title || name}\n          onClick={toggleModal}\n        />\n        <h2>{title || name}</h2>\n        <p>{vote_average === 0 ? '' : vote_average}</p>\n        {showModal && (\n          <Modal src={`${IMAGE_URL}${poster_path}`} onClose={toggleModal} />\n        )}\n      </Link>\n    </li>\n  );\n}\n\nMovieGalleryItem.propTypes = {\n  title: PropTypes.string,\n  name: PropTypes.string,\n  poster_path: PropTypes.string,\n  vote_average: PropTypes.number.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"MoviesGallery\":\"MoviesGallery_MoviesGallery__tqAIU\"};","// import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MovieGalleryItem from 'components/MovieGalleryItem/MovieGalleryItem';\nimport css from './MoviesGallery.module.css';\n\nconst MoviesGallery = ({ movies }) => {\n  // console.log(movies); // (12) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {\n\n  return (\n    <ul className={css.MoviesGallery}>\n      {/* <!-- Набір <li> із зображеннями --> */}\n      {movies.map(({ id, ...otherData }) => {\n        console.log('id', id);\n        return <MovieGalleryItem key={id} id={id} {...otherData} />;\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesGallery;\n\nMoviesGallery.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object),\n};\n","//================= hooks =================\nimport { useState } from 'react';\nimport css from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\nimport { FaSistrix } from 'react-icons/fa';\nimport Notiflix from 'notiflix'; // all modules\n// import { toast } from 'react-toastify';\n\nexport default function Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  // console.log(value);\n  const formSubmit = event => {\n    event.preventDefault();\n    if (value.trim() === '') {\n      return Notiflix.Notify.info('Please enter your request');\n      // return toast('Enter your search');\n    }\n    onSubmit(value);\n    resetForm();\n  };\n\n  const formChange = event => {\n    setValue(event.currentTarget.value.toLowerCase());\n  };\n\n  const resetForm = () => {\n    setValue('');\n  };\n\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={formSubmit}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <FaSistrix fill=\"blue\" width={40} height={40} />\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Type your request\"\n          value={value}\n          onChange={formChange}\n          // name=\"search\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../api/Api';\nimport Button from '../components/Button';\nimport MoviesGallery from 'components/MoviesGallery/MoviesGallery';\nimport Searchbar from 'components/Searchbar/Searchbar';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search') ?? '';\n\n  const [totalResults, setTotalResults] = useState(0);\n  const [activePage, setActivePage] = useState(1);\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n\n    searchMovies(search, activePage)\n      .then(({ results, total_pages }) => {\n        setMovies([...results]);\n        setTotalResults(total_pages);\n      })\n      .catch(err => console.log(err));\n  }, [search, activePage]);\n\n  // useMemo use !!!!!!!!!!!!!\n  // const visibleMovies = movies.filter(movie => movie.includes(search));\n\n  const updateQueryString = e => {\n    setSearchParams({ search: e });\n    console.log(e);\n  };\n\n  const renderMore = () => {\n    setActivePage(activePage => activePage + 1);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={updateQueryString} />\n\n      <MoviesGallery movies={movies} />\n\n      {movies.length !== totalResults && movies.length !== 0 && (\n        <Button aria-label=\"Load more\" onClick={renderMore} />\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["KEY","IMAGE_URL","getTrendingMovies","fetch","concat","arguments","length","undefined","method","headers","accept","then","response","json","catch","err","console","error","searchMovies","searchInput","page","renderMovieDetails","movie_id","renderCastDetails","renderReviewDetails","_ref","onClick","children","_objectWithoutProperties","_excluded","_jsx","className","css","type","modalRoot","document","querySelector","Modal","src","alt","onClose","useEffect","hendleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","currentTarget","target","MovieGalleryItem","id","poster_path","vote_average","title","name","_useState","useState","_useState2","_slicedToArray","showModal","setShowModal","location","useLocation","toggleModal","state","_jsxs","Link","to","from","movies","map","_ref2","otherData","log","_objectSpread","Searchbar","onSubmit","value","setValue","resetForm","event","preventDefault","trim","Notiflix","FaSistrix","fill","width","height","autoComplete","autoFocus","placeholder","onChange","toLowerCase","_searchParams$get","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","search","get","_useState3","_useState4","totalResults","setTotalResults","_useState5","_useState6","activePage","setActivePage","results","total_pages","_toConsumableArray","MoviesGallery","Button"],"sourceRoot":""}