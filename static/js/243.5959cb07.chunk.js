"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[243],{3148:function(e,t,n){n.d(t,{Df:function(){return i},Jd:function(){return f},or:function(){return s},yA:function(){return c},yK:function(){return l},z1:function(){return u}});var r="319d5522e2117aa6383989c80b35f4f5",a="https://api.themoviedb.org/3",o={method:"GET",headers:{accept:"application/json"}},c="https://image.tmdb.org/t/p/w500";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(a,"/trending/all/day?language=en-US&page=").concat(e,"&api_key=").concat(r),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not images in trending films"))}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(a,"/search/movie?include_adult=false&language=en-US&query=").concat(e,"&page=").concat(t,"&api_key=").concat(r),o).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are not images for ".concat(e," search request")))}))}function s(e){return fetch("".concat(a,"/movie/").concat(e,"?language=en-US&api_key=").concat(r),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not movie data"))}))}function l(e){return fetch("".concat(a,"/movie/").concat(e,"/credits?language=en-US&api_key=").concat(r),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not cast data"))}))}function f(e){return fetch("".concat(a,"/movie/").concat(e,"/reviews?language=en-US&page=1&api_key=").concat(r),o).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not review data"))}))}},7459:function(e,t,n){n.d(t,{Z:function(){return o}});var r="Button_Button__Smq3v",a=n(184),o=function(e){var t=e.onClick;return(0,a.jsx)("button",{className:r,type:"button",onClick:t,children:"Load more"})}},1539:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(8683),a=n(4925),o=n(7689),c=n(1087),i="MovieGalleryItem_MovieGalleryItem__QqOFS",u="MovieGalleryItem_MovieGalleryItemImage__mTBD0",s="MovieGalleryItem_MovieTitle__iEZrV",l="MovieGalleryItem_MovieRating__LFlB5",f=n(3148),h=n(9843),m=n(184);function v(e){var t=e.id,n=e.poster_path,r=e.vote_average,a=e.title,v=e.name,d=(0,o.TH)();return(0,m.jsx)("li",{className:i,children:(0,m.jsxs)(c.rU,{to:"/movies/".concat(t),state:{from:d},children:[(0,m.jsx)("img",{className:u,src:n?"".concat(f.yA).concat(n):h,alt:a||v}),(0,m.jsx)("h2",{className:s,children:a||v}),0!==r&&(0,m.jsx)("p",{className:l,children:r})]})})}var d="MoviesGallery_MoviesGallery__tqAIU",g=["id"],p=function(e){var t=e.movies;return(0,m.jsx)("ul",{className:d,children:t.map((function(e){var t=e.id,n=(0,a.Z)(e,g);return(0,m.jsx)(v,(0,r.Z)({id:t},n),t)}))})}},5243:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(3433),a=n(9439),o=n(2791),c=n(1087),i=n(3148),u=n(7459),s=n(1539),l=n(3882),f=n(9135),h=n(1686),m=n.n(h),v=n(184);function d(e){var t=e.onSubmit,n=(0,o.useState)(""),r=(0,a.Z)(n,2),c=r[0],i=r[1],u=function(){i("")};return(0,v.jsx)("div",{className:l.Z.Searchbar,children:(0,v.jsxs)("form",{className:l.Z.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return m().Notify.info("Please enter your request");t(c),u()},children:[(0,v.jsxs)("button",{type:"submit",className:l.Z.SearchFormButton,children:[(0,v.jsx)(f.Ozl,{fill:"blue",width:40,height:40}),(0,v.jsx)("span",{className:l.Z.SearchFormButtonLabel,children:"Search"})]}),(0,v.jsx)("input",{className:l.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Type your movie search",value:c,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}var g=n(6673),p=function(){var e,t,n=(0,o.useState)([]),l=(0,a.Z)(n,2),f=l[0],h=l[1],m=(0,c.lr)(),p=(0,a.Z)(m,2),_=p[0],j=p[1],y=null!==(e=_.get("search"))&&void 0!==e?e:"",x=null!==(t=_.get("page"))&&void 0!==t?t:"",S=(0,o.useState)(0),Z=(0,a.Z)(S,2),b=Z[0],k=Z[1],w=(0,o.useState)(1),N=(0,a.Z)(w,2),T=N[0],M=N[1],G=(0,o.useState)(!1),I=(0,a.Z)(G,2),C=I[0],E=I[1];(0,o.useEffect)((function(){y&&(E(!0),(0,i.z1)(y,x).then((function(e){var t=e.results,n=e.total_pages;h((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),k(n)})).catch((function(e){return console.log(e)})).finally(E(!1)))}),[y,x]);return(0,v.jsxs)("div",{children:[C&&(0,v.jsx)(g.a,{}),(0,v.jsx)(d,{onSubmit:function(e){j({search:e,page:T}),h([]),M(1)}}),(0,v.jsx)(s.Z,{movies:f}),f.length!==b&&0!==f.length&&(0,v.jsx)(u.Z,{"aria-label":"Load more",onClick:function(){M((function(e){return e+1})),j({search:y,page:T+1})}})]})}},9843:function(e,t,n){e.exports=n.p+"static/media/poster.abf474a02c8498fef9d7.webp"}}]);
//# sourceMappingURL=243.5959cb07.chunk.js.map