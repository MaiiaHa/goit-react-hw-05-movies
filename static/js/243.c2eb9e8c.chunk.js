"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[243],{148:function(e,t,n){n.d(t,{Df:function(){return a},Jd:function(){return s},or:function(){return i},yA:function(){return r},yK:function(){return u},z1:function(){return c}});var o="319d5522e2117aa6383989c80b35f4f5",r="https://image.tmdb.org/t/p/w500";function a(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US&page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,"&api_key=").concat(o),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&query=".concat(e,"&page=").concat(t,"&api_key=").concat(o),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function i(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US&api_key=").concat(o),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function u(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US&api_key=").concat(o),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function s(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1&api_key=").concat(o),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}},459:function(e,t,n){n.d(t,{Z:function(){return a}});var o="Button_Button__Smq3v",r=n(184),a=function(e){var t=e.onClick;return(0,r.jsx)("button",{className:o,type:"button",onClick:t,children:"Load more"})}},367:function(e,t,n){n.d(t,{Z:function(){return b}});var o=n(683),r=n(925),a=n(439),c=n(791),i=n(689),u=n(87),s=n(164),l={overlay:"Modal_overlay__r63M6",modal:"Modal_modal__DJDMv",Overlay:"Modal_Overlay__yoxbg",Modal:"Modal_Modal__I1UYJ"},h=n(184),f=document.querySelector("#modal-root");function d(e){var t=e.src,n=e.alt,o=e.onClose;(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&o()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o]);return(0,s.createPortal)((0,h.jsx)("div",{className:l.Overlay,onClick:function(e){e.currentTarget===e.target&&o()},children:(0,h.jsx)("div",{className:l.Modal,children:(0,h.jsx)("img",{src:t,alt:n})})}),f)}var m="MovieGalleryItem_MovieGalleryItem__QqOFS",v="MovieGalleryItem_MovieGalleryItemImage__mTBD0",p="MovieGalleryItem_MovieTitle__iEZrV",_="MovieGalleryItem_MovieRating__LFlB5",g=n(148);function y(e){var t=e.id,n=e.poster_path,o=e.vote_average,r=e.title,s=e.name,l=(0,c.useState)(!1),f=(0,a.Z)(l,2),y=f[0],j=f[1],x=(0,i.TH)(),b=function(){j((function(e){return!e}))};return(0,h.jsx)("li",{className:m,children:(0,h.jsxs)(u.rU,{to:"/movies/".concat(t),state:{from:x},children:[(0,h.jsx)("img",{className:v,src:n?"".concat(g.yA).concat(n):"There will be a poster",alt:r||s,onClick:b}),(0,h.jsx)("h2",{className:p,children:r||s}),0!==o&&(0,h.jsx)("p",{className:_,children:o}),y&&(0,h.jsx)(d,{src:"".concat(g.yA).concat(n),onClose:b})]})})}var j="MoviesGallery_MoviesGallery__tqAIU",x=["id"],b=function(e){var t=e.movies;return(0,h.jsx)("ul",{className:j,children:t.map((function(e){var t=e.id,n=(0,r.Z)(e,x);return(0,h.jsx)(y,(0,o.Z)({id:t},n),t)}))})}},243:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var o=n(433),r=n(439),a=n(791),c=n(87),i=n(148),u=n(459),s=n(367),l=n(882),h=n(135),f=n(686),d=n.n(f),m=n(184);function v(e){var t=e.onSubmit,n=(0,a.useState)(""),o=(0,r.Z)(n,2),c=o[0],i=o[1],u=function(){i("")};return(0,m.jsx)("header",{className:l.Z.Searchbar,children:(0,m.jsxs)("form",{className:l.Z.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return d().Notify.info("Please enter your request");t(c),u()},children:[(0,m.jsxs)("button",{type:"submit",className:l.Z.SearchFormButton,children:[(0,m.jsx)(h.Ozl,{fill:"blue",width:40,height:40}),(0,m.jsx)("span",{className:l.Z.SearchFormButtonLabel,children:"Search"})]}),(0,m.jsx)("input",{className:l.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Type your request",value:c,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}var p=function(){var e,t=(0,a.useState)([]),n=(0,r.Z)(t,2),l=n[0],h=n[1],f=(0,c.lr)(),d=(0,r.Z)(f,2),p=d[0],_=d[1],g=null!==(e=p.get("search"))&&void 0!==e?e:"",y=(0,a.useState)(0),j=(0,r.Z)(y,2),x=j[0],b=j[1],S=(0,a.useState)(1),M=(0,r.Z)(S,2),Z=M[0],k=M[1];(0,a.useEffect)((function(){g&&(0,i.z1)(g,Z).then((function(e){var t=e.results,n=e.total_pages;h((0,o.Z)(t)),b(n)})).catch((function(e){return console.log(e)}))}),[g,Z]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{onSubmit:function(e){_({search:e}),console.log(e)}}),(0,m.jsx)(s.Z,{movies:l}),l.length!==x&&0!==l.length&&(0,m.jsx)(u.Z,{"aria-label":"Load more",onClick:function(){k((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=243.c2eb9e8c.chunk.js.map