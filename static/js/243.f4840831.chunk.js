"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[243],{148:function(e,t,n){n.d(t,{Df:function(){return a},yA:function(){return o},z1:function(){return c}});var r="319d5522e2117aa6383989c80b35f4f5",o="https://image.tmdb.org/t/p/w500";function a(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US&page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,"&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&query=".concat(e,"&page=").concat(t,"&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}},459:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(925),o="Button_Button__Smq3v",a=n(184),c=["onClick","children"],i=function(e){var t=e.onClick;e.children,(0,r.Z)(e,c);return(0,a.jsx)("button",{className:o,type:"button",onClick:t,children:"Load more"})}},367:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(683),o=n(925),a=n(439),c=n(791),i=n(689),u=n(87),l=n(164),s={overlay:"Modal_overlay__r63M6",modal:"Modal_modal__DJDMv",Overlay:"Modal_Overlay__yoxbg",Modal:"Modal_Modal__I1UYJ"},d=n(184),f=document.querySelector("#modal-root");function h(e){var t=e.src,n=e.alt,r=e.onClose;(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);return(0,l.createPortal)((0,d.jsx)("div",{className:s.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:(0,d.jsx)("div",{className:s.Modal,children:(0,d.jsx)("img",{src:t,alt:n})})}),f)}var m="MovieGalleryItem_MovieGalleryItem__QqOFS",v="MovieGalleryItem_MovieGalleryItemImage__mTBD0",_=n(148);function p(e){var t=e.id,n=e.poster_path,r=e.vote_average,o=e.title,l=e.name,s=(0,c.useState)(!1),f=(0,a.Z)(s,2),p=f[0],g=f[1],y=(0,i.TH)(),j=function(){g((function(e){return!e}))};return(0,d.jsx)("li",{className:m,children:(0,d.jsxs)(u.rU,{to:"/movies/".concat(t),state:{from:y},children:[(0,d.jsx)("img",{className:v,src:n?"".concat(_.yA).concat(n):"There will be a poster",alt:o||l,onClick:j}),(0,d.jsx)("h2",{children:o||l}),(0,d.jsx)("p",{children:0===r?"":r}),p&&(0,d.jsx)(h,{src:"".concat(_.yA).concat(n),onClose:j})]})})}var g="MoviesGallery_MoviesGallery__tqAIU",y=["id"],j=function(e){var t=e.movies;return(0,d.jsx)("ul",{className:g,children:t.map((function(e){var t=e.id,n=(0,o.Z)(e,y);return(0,d.jsx)(p,(0,r.Z)({},n),t)}))})}},243:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(433),o=n(439),a=n(791),c=n(87),i=n(148),u=n(459),l=n(367),s=n(882),d=n(135),f=n(686),h=n.n(f),m=n(184);function v(e){var t=e.onSubmit,n=(0,a.useState)(""),r=(0,o.Z)(n,2),c=r[0],i=r[1],u=function(){i("")};return(0,m.jsx)("header",{className:s.Z.Searchbar,children:(0,m.jsxs)("form",{className:s.Z.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return h().Notify.info("Please enter your request");t(c),u()},children:[(0,m.jsxs)("button",{type:"submit",className:s.Z.SearchFormButton,children:[(0,m.jsx)(d.Ozl,{fill:"blue",width:40,height:40}),(0,m.jsx)("span",{className:s.Z.SearchFormButtonLabel,children:"Search"})]}),(0,m.jsx)("input",{className:s.Z.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Type your request",value:c,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}var _=function(){var e,t=(0,a.useState)([]),n=(0,o.Z)(t,2),s=n[0],d=n[1],f=(0,c.lr)(),h=(0,o.Z)(f,2),_=h[0],p=h[1],g=null!==(e=_.get("search"))&&void 0!==e?e:"",y=(0,a.useState)(0),j=(0,o.Z)(y,2),x=j[0],Z=j[1],b=(0,a.useState)(1),S=(0,o.Z)(b,2),M=S[0],k=S[1];(0,a.useEffect)((function(){g&&(0,i.z1)(g,M).then((function(e){var t=e.results,n=e.total_pages;d((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),Z(n)})).catch((function(e){return console.log(e)}))}),[g,M]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{onSubmit:function(e){p({search:e})}}),(0,m.jsx)(l.Z,{movies:s}),s.length!==x&&0!==s.length&&(0,m.jsx)(u.Z,{"aria-label":"Load more",onClick:function(){k((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=243.f4840831.chunk.js.map