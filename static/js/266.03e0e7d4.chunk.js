"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[266],{148:function(e,n,t){t.d(n,{Df:function(){return c},Jd:function(){return l},or:function(){return i},yA:function(){return o},yK:function(){return u},z1:function(){return a}});var r="319d5522e2117aa6383989c80b35f4f5",o="https://image.tmdb.org/t/p/w500";function c(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US&page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,"&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&query=".concat(e,"&page=").concat(n,"&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function i(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function u(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}function l(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1&api_key=").concat(r),{method:"GET",headers:{accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))}},459:function(e,n,t){t.d(n,{Z:function(){return c}});var r="Button_Button__Smq3v",o=t(184),c=function(e){var n=e.onClick;return(0,o.jsx)("button",{className:r,type:"button",onClick:n,children:"Load more"})}},367:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(683),o=t(925),c=t(439),a=t(791),i=t(689),u=t(87),l=t(164),s={overlay:"Modal_overlay__r63M6",modal:"Modal_modal__DJDMv",Overlay:"Modal_Overlay__yoxbg",Modal:"Modal_Modal__I1UYJ"},f=t(184),d=document.querySelector("#modal-root");function h(e){var n=e.src,t=e.alt,r=e.onClose;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);return(0,l.createPortal)((0,f.jsx)("div",{className:s.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:(0,f.jsx)("div",{className:s.Modal,children:(0,f.jsx)("img",{src:n,alt:t})})}),d)}var v="MovieGalleryItem_MovieGalleryItem__QqOFS",m="MovieGalleryItem_MovieGalleryItemImage__mTBD0",p="MovieGalleryItem_MovieTitle__iEZrV",_="MovieGalleryItem_MovieRating__LFlB5",g=t(148);function y(e){var n=e.id,t=e.poster_path,r=e.vote_average,o=e.title,l=e.name,s=(0,a.useState)(!1),d=(0,c.Z)(s,2),y=d[0],j=d[1],b=(0,i.TH)(),M=function(){j((function(e){return!e}))};return(0,f.jsx)("li",{className:v,children:(0,f.jsxs)(u.rU,{to:"/movies/".concat(n),state:{from:b},children:[(0,f.jsx)("img",{className:m,src:t?"".concat(g.yA).concat(t):"There will be a poster",alt:o||l,onClick:M}),(0,f.jsx)("h2",{className:p,children:o||l}),0!==r&&(0,f.jsx)("p",{className:_,children:r}),y&&(0,f.jsx)(h,{src:"".concat(g.yA).concat(t),onClose:M})]})})}var j="MoviesGallery_MoviesGallery__tqAIU",b=["id"],M=function(e){var n=e.movies;return(0,f.jsx)("ul",{className:j,children:n.map((function(e){var n=e.id,t=(0,o.Z)(e,b);return(0,f.jsx)(y,(0,r.Z)({id:n},t),n)}))})}},266:function(e,n,t){t.r(n);var r=t(433),o=t(439),c=t(791),a=t(148),i=t(459),u=t(367),l=t(184);n.default=function(){var e=(0,c.useState)([]),n=(0,o.Z)(e,2),t=n[0],s=n[1],f=(0,c.useState)(1),d=(0,o.Z)(f,2),h=d[0],v=d[1],m=(0,c.useState)(!1),p=(0,o.Z)(m,2),_=p[0],g=p[1];(0,c.useEffect)((function(){(0,a.Df)(h).then((function(e){var n=e.results;return s((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))}))})).catch((function(e){return console.log(e)})).finally(g(!0))}),[h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{movies:t}),_&&(0,l.jsx)(i.Z,{"aria-label":"Load more",onClick:function(){v((function(e){return e+1}))}})]})}},925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=266.03e0e7d4.chunk.js.map