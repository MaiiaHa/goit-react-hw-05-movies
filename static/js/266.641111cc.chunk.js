"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[266],{3148:function(e,n,t){t.d(n,{Df:function(){return i},Jd:function(){return f},or:function(){return s},yA:function(){return c},yK:function(){return l},z1:function(){return u}});var r="319d5522e2117aa6383989c80b35f4f5",o="https://api.themoviedb.org/3",a={method:"GET",headers:{accept:"application/json"}},c="https://image.tmdb.org/t/p/w500";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(o,"/trending/all/day?language=en-US&page=").concat(e,"&api_key=").concat(r),a).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not images in trending films"))}))}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(o,"/search/movie?include_adult=false&language=en-US&query=").concat(e,"&page=").concat(n,"&api_key=").concat(r),a).then((function(n){return n.ok?n.json():Promise.reject(new Error("There are not images for ".concat(e," search request")))}))}function s(e){return fetch("".concat(o,"/movie/").concat(e,"?language=en-US&api_key=").concat(r),a).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not movie data"))}))}function l(e){return fetch("".concat(o,"/movie/").concat(e,"/credits?language=en-US&api_key=").concat(r),a).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not cast data"))}))}function f(e){return fetch("".concat(o,"/movie/").concat(e,"/reviews?language=en-US&page=1&api_key=").concat(r),a).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not review data"))}))}},7459:function(e,n,t){t.d(n,{Z:function(){return a}});var r="Button_Button__Smq3v",o=t(184),a=function(e){var n=e.onClick;return(0,o.jsx)("button",{className:r,type:"button",onClick:n,children:"Load more"})}},1539:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(8683),o=t(4925),a=t(7689),c=t(1087),i="MovieGalleryItem_MovieGalleryItem__QqOFS",u="MovieGalleryItem_MovieGalleryItemImage__mTBD0",s="MovieGalleryItem_MovieTitle__iEZrV",l="MovieGalleryItem_MovieRating__LFlB5",f=t(3148),m=t(9843),v=t(184);function h(e){var n=e.id,t=e.poster_path,r=e.vote_average,o=e.title,h=e.name,d=(0,a.TH)();return(0,v.jsx)("li",{className:i,children:(0,v.jsxs)(c.rU,{to:"/movies/".concat(n),state:{from:d},children:[(0,v.jsx)("img",{className:u,src:t?"".concat(f.yA).concat(t):m,alt:o||h}),(0,v.jsx)("h2",{className:s,children:o||h}),0!==r&&(0,v.jsx)("p",{className:l,children:r})]})})}var d="MoviesGallery_MoviesGallery__tqAIU",g=["id"],_=function(e){var n=e.movies;return(0,v.jsx)("ul",{className:d,children:n.map((function(e){var n=e.id,t=(0,o.Z)(e,g);return(0,v.jsx)(h,(0,r.Z)({id:n},t),n)}))})}},1266:function(e,n,t){t.r(n);var r=t(3433),o=t(9439),a=t(2791),c=t(3148),i=t(7459),u=t(1539),s=t(6673),l=t(184);n.default=function(){var e=(0,a.useState)([]),n=(0,o.Z)(e,2),t=n[0],f=n[1],m=(0,a.useState)(1),v=(0,o.Z)(m,2),h=v[0],d=v[1],g=(0,a.useState)(!1),_=(0,o.Z)(g,2),p=_[0],j=_[1],y=(0,a.useState)(0),k=(0,o.Z)(y,2),b=k[0],w=k[1];(0,a.useEffect)((function(){j(!0),(0,c.Df)(h).then((function(e){var n=e.results,t=e.total_results;w(t),f((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))}))})).catch((function(e){return console.log(e)})).finally(j(!1))}),[h]);return(0,l.jsxs)(l.Fragment,{children:[p&&(0,l.jsx)(s.a,{}),(0,l.jsx)(u.Z,{movies:t}),b>t.length&&(0,l.jsx)(i.Z,{"aria-label":"Load more",onClick:function(){d((function(e){return e+1}))}})]})}},9843:function(e,n,t){e.exports=t.p+"static/media/poster.abf474a02c8498fef9d7.webp"},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=266.641111cc.chunk.js.map