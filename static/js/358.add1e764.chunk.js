"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[358],{3148:function(e,n,t){t.d(n,{Df:function(){return c},Jd:function(){return u},or:function(){return l},yA:function(){return o},yK:function(){return d},z1:function(){return s}});var i="319d5522e2117aa6383989c80b35f4f5",a="https://api.themoviedb.org/3",r={method:"GET",headers:{accept:"application/json"}},o="https://image.tmdb.org/t/p/w500";function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat(a,"/trending/all/day?language=en-US&page=").concat(e,"&api_key=").concat(i),r).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not images in trending films"))}))}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(a,"/search/movie?include_adult=false&language=en-US&query=").concat(e,"&page=").concat(n,"&api_key=").concat(i),r).then((function(n){return n.ok?n.json():Promise.reject(new Error("There are not images for ".concat(e," search request")))}))}function l(e){return fetch("".concat(a,"/movie/").concat(e,"?language=en-US&api_key=").concat(i),r).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not movie data"))}))}function d(e){return fetch("".concat(a,"/movie/").concat(e,"/credits?language=en-US&api_key=").concat(i),r).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not cast data"))}))}function u(e){return fetch("".concat(a,"/movie/").concat(e,"/reviews?language=en-US&page=1&api_key=").concat(i),r).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are not review data"))}))}},5358:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(9439),a=t(2791),r=t(7689),o=t(1087),c=t(3148),s=t(8977),l={BackLink:"MovieDeatails_BackLink__PGbkd",Image:"MovieDeatails_Image__zZp-5",MovieImg:"MovieDeatails_MovieImg__Qlits",Details:"MovieDeatails_Details__EjM09",Box:"MovieDeatails_Box__NMtah",AdditionalInfo:"MovieDeatails_AdditionalInfo__kb2Sf",MovieData:"MovieDeatails_MovieData__EhLLn"},d=t(6673),u=t(9135),h=t(9843),f=t(184),v=function(){var e,n,t,v=(0,r.UO)().movieId,j=(0,a.useState)({}),m=(0,i.Z)(j,2),_=m[0],g=m[1],x=(0,r.TH)(),p=(0,a.useRef)(null!==(e=null===(n=x.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies"),k=(0,a.useState)(!1),w=(0,i.Z)(k,2),M=w[0],y=w[1];if((0,a.useEffect)((function(){y(!0),(0,c.or)(v).then((function(e){g(e)})).catch((function(e){return console.log(e)})).finally(y(!1))}),[v]),_)return(0,f.jsxs)("section",{className:l.Box,children:[(0,f.jsxs)("div",{className:l.Details,children:[(0,f.jsx)("div",{className:l.Image,children:(0,f.jsx)("img",{className:l.MovieImg,src:_.poster_path?"".concat(c.yA).concat(_.poster_path):h,alt:_.title})}),(0,f.jsxs)("div",{className:l.MovieInfo,children:[(0,f.jsxs)(o.rU,{to:p.current,className:l.BackLink,children:[(0,f.jsx)(u.bUI,{width:20,height:20}),"Go back"]}),(0,f.jsxs)("ul",{className:l.MovieData,children:[(0,f.jsx)("li",{children:(0,f.jsxs)("h1",{children:[_.title,(0,f.jsxs)("span",{children:["(",_.release_date?(0,s.Z)(new Date(_.release_date),"yyyy"):"no info",")"]})]})}),(0,f.jsxs)("li",{children:[(0,f.jsx)("h3",{children:"Rating "}),(0,f.jsx)("p",{children:_.vote_average?_.vote_average:"no info"})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("h3",{children:"Ganres"}),(0,f.jsx)("p",{children:null===_||void 0===_||null===(t=_.genres)||void 0===t?void 0:t.map((function(e){return e.name})).join(", ")})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("h3",{children:"Overview"}),(0,f.jsx)("p",{children:_.overview})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("h3",{children:"Runtime"}),(0,f.jsxs)("p",{children:[" ",null===_||void 0===_?void 0:_.runtime]})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("h2",{children:"Aditional information"}),(0,f.jsxs)("ul",{className:l.AdditionalInfo,children:[(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"cast",children:"actors"})}),(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"reviews",children:"reviews"})})]})]})]})]})]}),(0,f.jsx)(a.Suspense,{fallback:M&&(0,f.jsx)(d.a,{}),children:(0,f.jsx)(r.j3,{})})]})}},9843:function(e,n,t){e.exports=t.p+"static/media/poster.abf474a02c8498fef9d7.webp"}}]);
//# sourceMappingURL=358.add1e764.chunk.js.map